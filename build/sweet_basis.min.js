"use strict";var SWEETCHARTS={};SWEETCHARTS.polyfill={exec:function(){for(var t in this)"exec"!==t&&this.hasOwnProperty(t)&&"function"==typeof this[t]&&this[t].call(null)},animationFrame:function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var i=(new Date).getTime(),a=Math.max(0,16-(i-t)),o=window.setTimeout(function(){e(i+a)},a);return t=i+a,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){window.clearTimeout(t)})}};var SWEETCHARTS=SWEETCHARTS||{};SWEETCHARTS.u={setAttrs:function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setAttribute(n,e[n])},getDistanceFromCircleCenter:function(t,e){var n=t.offsetX?t.offsetX:t.layerX-t.target.parentElement.offsetLeft,i=t.offsetY?t.offsetY:t.layerY-t.target.parentElement.offsetTop,a=Math.sqrt(Math.pow(e.centerX-n,2)+Math.pow(e.centerY-i,2));return a},getRandomIndex:function(t,e){for(var n=[];n.length<e;){var i=Math.round(Math.random()*t);if(n.length>t)n.push(i);else{if(!(n.indexOf(i)<0))continue;n.push(i)}}return n},getPosition:function(t,e,n,i,a){var o,r=.01745329251,s=e.radius,h=e.centerX,l=e.centerY;a=a||1.6,o=0===n?Math.round(t[0]/2):Math.round((t[n]-t[n-1])/2+t[n-1]);var c=Math.cos(r*o)*s,u=Math.sin(r*o)*s;return i(c,u,n),c=h+c/a,u=l+u/a,{x:c,y:u}},linkSimpleInherit:function(t,e){return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}};var SWEETCHARTS=SWEETCHARTS||{};SWEETCHARTS.LegendManager=function(t){function e(t,e,n){this.elLegendSVG=t.querySelector(".sweet-legend"),this.nDivHeight=parseInt(t.style.height),this.aName=e,this.aColor=n,this.htData={nGap:24,nSize:16,nFontSize:12},this.init()}var n={xmlns:"http://www.w3.org/2000/svg"};return e.prototype={init:function(){var t=this.htData,e=t.nGap*this.aName.length-(t.nGap-t.nSize);this.nDivHeight<=e&&console.error("Legend is too big"),this.nFirstElementTop=(this.nDivHeight-e)/2},makeLegend:function(){this.aName.forEach(function(t,e){var n=this.nFirstElementTop+e*this.htData.nGap;this.createElement(t,this.aColor[e],n)},this)},createElement:function(e,i,a){var o=this.elLegendSVG,r=document.createElementNS(n.xmlns,"g"),s=document.createElementNS(n.xmlns,"rect"),h=document.createElementNS(n.xmlns,"text");t.setAttrs(s,{x:"10",y:a,width:this.htData.nSize,height:this.htData.nSize,fill:i}),t.setAttrs(h,{x:"40",y:a+this.htData.nFontSize,"font-size":this.htData.nFontSize,fill:"#000"}),h.textContent=e,o.appendChild(r),r.appendChild(s),r.appendChild(h)},emphasizeMenu:function(t){this.aElText=Array.prototype.slice.call(this.elLegendSVG.querySelectorAll("g > text"));var e=this.htData.nFontSize;this.aElText.forEach(function(n,i){t===i?(n.setAttribute("font-weight","bold"),n.style.opacity="1.0",n.previousElementSibling.style.opacity=1):(n.setAttribute("font-size",e),n.style.opacity="0.1",n.previousElementSibling.style.opacity=.1)})},clearEmphasizeMenu:function(){var t=this.htData.nFontSize;this.aElText.forEach(function(e){e.setAttribute("font-size",t),e.setAttribute("font-weight","normal"),e.style.opacity="1.0",e.previousElementSibling.style.opacity=1})},constructor:e},e}(SWEETCHARTS.u);