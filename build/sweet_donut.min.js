"use strict";var SWEETCHARTS=SWEETCHARTS||{};SWEETCHARTS.Donut=function(t,e,r,n){var s={xmlns:"http://www.w3.org/2000/svg"},i=function(){var e=[].slice.call(arguments);this.bDonutChart=!0,this.elCenterText=null,t.apply(this,e)};return i=e.linkSimpleInherit(i,t),i.prototype.execDonutAfterProcess=function(){var t=this.calculateHalfPosition();this.createInnerPathElements(t),this.makeCenterTextElement()},i.prototype.makeCenterTextElement=function(){var t=this.htCore.radius,r=n.createElementNS(s.xmlns,"g"),i=n.createElementNS(s.xmlns,"text"),a=+this.elMaxValuePath.getAttribute("class").substring(6),h=this.aPieceKeys[a],o=t/(h.length+1);e.setAttrs(i,{"class":"centerMessage",fill:"gray","font-size":o+""}),this.elChartSVG.appendChild(r),r.appendChild(i),this.elCenterText=i,this.changeCenterTextMessage(h)},i.prototype.changeCenterTextMessage=function(t){this.elCenterText.textContent=t;var r=this.htCore.centerX-this.elCenterText.getBBox().width/2;this.yPos||(this.yPos=this.htCore.centerY+this.elCenterText.getBBox().height/3),e.setAttrs(this.elCenterText,{transform:"translate("+r+" "+this.yPos+")"})},i.prototype.makeCircle=function(){var t=n.createElementNS(s.xmlns,"g"),r=n.createElementNS(s.xmlns,"circle");this.elChartSVG.appendChild(t),e.setAttrs(r,{"class":"donutCircle",style:"fill:#fff",cx:this.htCore.centerX,cy:this.htCore.centerY,r:this.htCore.radius/2}),t.appendChild(r)},i.prototype.calculateHalfPosition=function(){var t=[];this.aELHalfPath=[];for(var e=0;e<this.aStart.length;e++){var r={},n=this.aStart[e].y-this.htCore.centerY,s=this.aStart[e].x-this.htCore.centerX,i=Math.abs(n/s),a=s>0?1:-1,h=n>0?1:-1,o=this.htCore.radius/(2*Math.sqrt(1+i*i)),l=this.htCore.centerX+a*o,c=this.htCore.centerY+h*o*i;r.startX=l,r.startY=c,r.radius=this.htCore.radius/2,r.centerX=this.htCore.centerX,r.centerY=this.htCore.centerY,t.push(r)}return t},i.prototype.createInnerPathElements=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=e==t.length-1?t[0].startX:t[e+1].startX,s=e==t.length-1?t[0].startY:t[e+1].startY,i=this.getCoordProperty(r.startX,r.startY,n,s,r.radius,r.centerX,r.centerY);this.createPathElements(this.aELHalfPath,e,i,"#fff",!0)}},i}(SWEETCHARTS.PIE,SWEETCHARTS.u,window,document),"function"==typeof window.define&&window.define.amd&&window.define(["sweet_donut.min"],function(){return SWEETCHARTS.Donut});